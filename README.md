# nn6 -- Neural Network Library

## Install

```
$ npm install nn6
```

## Example

File : optimizeTest.js

```js
const nn6 = require('nn6')

// f(x,y) = x^2 + 2xy + y^2 + 2
// 在 x=0 y=0 時，有最小值 2
class Graph1 extends nn6.Graph {
  constructor () {
    super()
    let v = this.addVariables(['x', 'y', 'xx', '_2xy', 'yy', 'f'])
    let [c2] = nn6.Graph.newConstants([2])
    this.addInputs([v.x, v.y])
    v.x.value = 1
    v.y.value = 2
    this.setOutput(v.f)
    this.addGates([
      new nn6.Times([v.x, v.x], v.xx),
      new nn6.Times([c2, v.x, v.y], v._2xy),
      new nn6.Times([v.y, v.y], v.yy),
      new nn6.Sum([v.xx, v._2xy, v.yy, c2], v.f)
    ])
    console.log('vars=%j', this.vars)
  }
}

let net = new nn6.Net(new Graph1())
net.run(300)

```


## Run

```
$ node optimizeTest.js
vars={"x":{"value":1,"grad":0},"y":{"value":2,"grad":0},"xx":{"value":0,"grad":0},"_2xy":{"value":0,"grad":0},"yy":{"value":0,"grad":0},"f":{"value":0,"grad":0}}
out=0 11
out=1 10.2944
out=2 9.64411904
out=3 9.044820107263998
out=4 8.4925062108545
out=5 7.983493723923507
out=6 7.514387815967906
out=7 7.082059811196021
out=8 6.683626321998254
out=9 6.31643001835359
out=10 5.978021904914669
out=11 5.666144987569359
out=12 5.378719220543921
out=13 5.113827633653278
out=14 4.86970354717486
out=15 4.644718789076352
out=16 4.4373728360127656
out=17 4.246282805669364
out=18 4.070174233704886
out=19 3.907872573782423
out=20 3.758295363997881
out=21 3.6204450074604475
out=22 3.493402118875548
out=23 3.3763193927557054
out=24 3.2684159523636582
out=25 3.1689721416983474
out=26 3.0773247257891967
out=27 2.992862467287324
out=28 2.9150220498519976
out=29 2.843284321143601
out=30 2.777170830365943
out=31 2.716240637265253
out=32 2.660087371303657
out=33 2.6083365213934506
out=34 2.560642938116204
out=35 2.5166885317678935
out=36 2.4761801508772905
out=37 2.4388476270485113
out=38 2.404441973087908
out=39 2.372733722397816
out=40 2.343511398561827
out=41 2.3165801049145798
out=42 2.291760224689277
out=43 2.2688862230736375
out=44 2.247805543184664
out=45 2.2283775885989865
out=46 2.2104727856528257
out=47 2.1939717192576444
out=48 2.1787643364678453
out=49 2.164749212488766
out=50 2.1518328742296466
out=51 2.1399291768900426
out=52 2.1289587294218633
out=53 2.118848365035189
out=54 2.10953065321643
out=55 2.1009434500042623
out=56 2.093029483523928
out=57 2.085735972015652
out=58 2.079014271809625
out=59 2.0728195528997504
out=60 2.0671104999524097
out=61 2.061849036756141
out=62 2.0570000722744597
out=63 2.052531266608142
out=64 2.0484128153060635
out=65 2.044617250586068
out=66 2.0411192581401205
out=67 2.037895508301935
out=68 2.034924500451063
out=69 2.0321864196157
out=70 2.029663004317829
out=71 2.0273374247793114
out=72 2.0251941706766132
out=73 2.023218947695567
out=74 2.0213985821962344
out=75 2.0197209333520494
out=76 2.0181748121772487
out=77 2.0167499069025525
out=78 2.0154367142013925
out=79 2.0142264758080035
out=80 2.013111120104656
out=81 2.012083208288451
out=82 2.0111358847586365
out=83 2.0102628313935593
out=84 2.0094582254123043
out=85 2.0087167005399795
out=86 2.008033311217645
out=87 2.0074034996181815
out=88 2.006823065248116
out=89 2.006288136932664
out=90 2.0057951469971433
out=91 2.005340807472567
out=92 2.004922088166718
out=93 2.0045361964544472
out=94 2.0041805586524184
out=95 2.0038528028540687
out=96 2.00355074311031
out=97 2.003272364850462
out=98 2.0030158114461853
out=99 2.0027793718288045
out=100 2.0025614690774263
out=101 2.002360649901756
out=102 2.0021755749494585
out=103 2.002005009873421
out=104 2.001847817099345
out=105 2.001702948238756
out=106 2.0015694370968378
out=107 2.0014463932284454
out=108 2.001332995999335
out=109 2.0012284891129877
out=110 2.0011321755665294
out=111 2.0010434130021135
out=112 2.0009616094227476
out=113 2.0008862192440042
out=114 2.0008167396552743
out=115 2.000752707266301
out=116 2.000693695016623
out=117 2.00063930932732
out=118 2.0005891874760575
out=119 2.000542995177935
out=120 2.0005004243559847
out=121 2.0004611910864756
out=122 2.000425033705296
out=123 2.0003917110628007
out=124 2.0003610009154773
out=125 2.0003326984437035
out=126 2.000306614885717
out=127 2.000282576278677
out=128 2.000260422298429
out=129 2.000240005190232
out=130 2.0002211887833177
out=131 2.0002038475827058
out=132 2.0001878659322214
out=133 2.0001731372431353
out=134 2.0001595632832734
out=135 2.000147053521865
out=136 2.0001355245257506
out=137 2.0001248994029317
out=138 2.000115107289742
out=139 2.000106082878226
out=140 2.0000977659805734
out=141 2.0000901011276966
out=142 2.000083037199285
out=143 2.000076527082861
out=144 2.000070527359565
out=145 2.000064998014575
out=146 2.000059902170232
out=147 2.000055205840086
out=148 2.0000508777022232
out=149 2.000046888890369
out=150 2.000043212801364
out=151 2.000039824917737
out=152 2.0000367026441865
out=153 2.000033825156882
out=154 2.0000311732645826
out=155 2.0000287292806394
out=156 2.0000264769050373
out=157 2.0000244011156822
out=158 2.000022488068213
out=159 2.0000207250036652
out=160 2.0000191001633776
out=161 2.0000176027105687
out=162 2.0000162226580604
out=163 2.0000149508016682
out=164 2.0000137786588175
out=165 2.0000126984119664
out=166 2.000011702856468
out=167 2.000010785352521
out=168 2.0000099397808833
out=169 2.0000091605020622
out=170 2.0000084423187006
out=171 2.000007780440914
out=172 2.0000071704543467
out=173 2.0000066082907257
out=174 2.000006090200733
out=175 2.0000056127289954
out=176 2.000005172691042
out=177 2.0000047671520647
out=178 2.000004393407343
out=179 2.000004048964207
out=180 2.000003731525413
out=181 2.000003438973821
out=182 2.000003169358273
out=183 2.0000029208805845
out=184 2.0000026918835467
out=185 2.0000024808398766
out=186 2.0000022863420304
out=187 2.0000021070928153
out=188 2.0000019418967385
out=189 2.000001789652034
out=190 2.000001649343315
out=191 2.000001520034799
out=192 2.0000014008640705
out=193 2.0000012910363276
out=194 2.0000011898190793
out=195 2.0000010965372637
out=196 2.000001010568742
out=197 2.0000009313401526
out=198 2.0000008583230846
out=199 2.000000791030555
out=200 2.0000007290137596
out=201 2.000000671859081
out=202 2.000000619185329
out=203 2.000000570641199
out=204 2.000000525902929
out=205 2.0000004846721393
out=206 2.0000004466738437
out=207 2.0000004116546144
out=208 2.0000003793808925
out=209 2.0000003496374306
out=210 2.0000003222258558
out=211 2.000000296963349
out=212 2.0000002736814224
out=213 2.000000252224799
out=214 2.0000002324503745
out=215 2.000000214226265
out=216 2.000000197430926
out=217 2.000000181952341
out=218 2.000000167687278
out=219 2.0000001545405954
out=220 2.0000001424246125
out=221 2.000000131258523
out=222 2.000000120967855
out=223 2.000000111483975
out=224 2.0000001027436314
out=225 2.000000094688531
out=226 2.00000008726495
out=227 2.0000000804233777
out=228 2.000000074118185
out=229 2.0000000683073194
out=230 2.0000000629520254
out=231 2.0000000580165866
out=232 2.000000053468086
out=233 2.0000000492761885
out=234 2.000000045412935
out=235 2.000000041852561
out=236 2.0000000385713204
out=237 2.0000000355473286
out=238 2.0000000327604184
out=239 2.0000000301920013
out=240 2.0000000278249486
out=241 2.0000000256434722
out=242 2.0000000236330244
out=243 2.0000000217801954
out=244 2.000000020072628
out=245 2.000000018498934
out=246 2.0000000170486176
out=247 2.000000015712006
out=248 2.0000000144801846
out=249 2.000000013344938
out=250 2.000000012298695
out=251 2.0000000113344774
out=252 2.0000000104458544
out=253 2.0000000096268993
out=254 2.00000000887215
out=255 2.0000000081765736
out=256 2.0000000075355304
out=257 2.000000006944745
out=258 2.0000000064002768
out=259 2.000000005898495
out=260 2.000000005436053
out=261 2.0000000050098663
out=262 2.000000004617093
out=263 2.0000000042551127
out=264 2.000000003921512
out=265 2.0000000036140655
out=266 2.000000003330723
out=267 2.0000000030695944
out=268 2.000000002828938
out=269 2.000000002607149
out=270 2.0000000024027487
out=271 2.000000002214373
out=272 2.0000000020407662
out=273 2.00000000188077
out=274 2.000000001733318
out=275 2.0000000015974257
out=276 2.0000000014721877
out=277 2.000000001356768
out=278 2.0000000012503976
out=279 2.000000001152366
out=280 2.0000000010620207
out=281 2.0000000009787584
out=282 2.000000000902024
out=283 2.000000000831305
out=284 2.0000000007661307
out=285 2.0000000007060663
out=286 2.0000000006507106
out=287 2.0000000005996945
out=288 2.000000000552679
out=289 2.0000000005093486
out=290 2.0000000004694156
out=291 2.0000000004326135
out=292 2.0000000003986966
out=293 2.000000000367439
out=294 2.000000000338632
out=295 2.000000000312083
out=296 2.0000000002876157
out=297 2.0000000002650666
out=298 2.0000000002442855
out=299 2.0000000002251332
```
